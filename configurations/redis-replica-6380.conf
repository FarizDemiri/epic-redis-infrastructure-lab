# Redis Replica Configuration - Port 6380
# Based on master configuration with replication-specific overrides

# Network
port 6380
bind 127.0.0.1

# Process management
daemonize no
pidfile /var/run/redis/redis-6380.pid
logfile /var/log/redis/redis-6380.log

# Data persistence
dir /var/lib/redis-6380

# Replication
replicaof 127.0.0.1 6379
replica-read-only yes
repl-diskless-sync no

# Memory
maxmemory-policy allkeys-lru

# Persistence (RDB + AOF for durability)
save 900 1
save 300 10
save 60 10000
appendonly yes
appendfsync everysec

# Security (enable in production)
# requirepass <password>
# masterauth <password>

# Performance
tcp-backlog 511
timeout 0
tcp-keepalive 300

# Logging
loglevel notice
